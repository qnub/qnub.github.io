<!DOCTYPE html>
<html class="window" lang="ru_ru" prefix="ya: https://webmaster.yandex.ru/vocabularies/" prefix="og: http://ogp.me/ns# website: http://ogp.me/ns/website# article: http://ogp.me/ns/article#" >
    <head>
              <meta charset="utf-8">
            <title>qnub's blog &middot; Хостинг на GitHub блога, сгенерированного Pelican</title>
            <meta name="viewport" content="initial-scale=1.0, user-scalable=no">
            <link href='http://fonts.googleapis.com/css?family=Noto+Sans:400,700,400italic,700italic|Noto+Serif:400,700,400italic,700italic|PT+Mono&subset=latin,cyrillic' rel='stylesheet' type='text/css'>
            <link rel="stylesheet" href="http://qnub.me/theme/css/main.css"/>
            <link rel="stylesheet" href="http://qnub.me/theme/css/pygment.css"/>
            <link rel="shortcut icon" href="http://qnub.me/favicon.ico" />
            <link rel='icon' type='image/x-icon' href='http://qnub.me/favicon.ico'/>
            <link rel="apple-touch-icon-precomposed" href="http://qnub.me/favicon.png">


                <link href="http://qnub.me/feeds/all.rss.xml" type="application/rss+xml" rel="alternate" title="qnub's blog полный RSS Feed" />
                <link href="http://qnub.me/feeds/blog.rss.xml" type="application/rss+xml" rel="alternate" title="qnub's blog RSS Feed раздела &quot;блог&quot;" />
            <meta property="og:site_name" content="qnub's blog" />
            <meta property="og:locale" content="ru_ru" />
        <meta property="og:type" content="article" />
        <meta property="article:author" content="https://www.facebook.com/pages/gikme/137607762942824" />
            <meta property="article:tag" content="blog" />
            <meta property="article:tag" content="github" />
            <meta property="article:tag" content="static" />
            <meta property="article:tag" content="pelican" />


  <link href='http://qnub.me/2015/02/2015-02-10-pelican-site-on-github.html' rel='canonical'/>

    <meta name="description" contents="Исходник этого самого блога можно найти на GitHub. Здесь немного модифицирован Makefile для поддержки virtualenv находящегося в каталоге .env в каталоге с, собственно, git самого сайта. Тема разработана temapavloff, а ..." />
    <meta property="og:description" content="Исходник этого самого блога можно найти на GitHub. Здесь немного модифицирован Makefile для поддержки virtualenv находящегося в каталоге .env в каталоге с, собственно, git самого сайта. Тема разработана temapavloff, а ..." />

    <meta name="tags" contents="blog" />
    <meta name="tags" contents="github" />
    <meta name="tags" contents="static" />
    <meta name="tags" contents="pelican" />
    <meta property="og:title" content="Хостинг на GitHub блога, сгенерированного Pelican" />
      <meta property="og:image" content="http://qnub.me/images/blog/pelican.png" />
  <meta property="og:url" content="http://qnub.me/2015/02/2015-02-10-pelican-site-on-github.html" />
    </head>
    <body class="page">

        <header class="header">
            <h1 class="header__logo"><a href="http://qnub.me" class="header__logo-link">qnub</a></h1>
            <nav class="header__menu">
                        <a
                            href="http://qnub.me/category/blog.html"
                            class="header__menu-item  header__menu-item_active ">Блог</a>
                <a
                    href="http://qnub.me/archives.html"
                    class="header__menu-item ">Архив</a>
                        <a
                            href="http://qnub.me/pages/about-me.html"
                            class="header__menu-item ">Обо мне</a>
            </nav>
        </header>

        <div class="container cf">
            <main class="content"><article class="article">
	<header class="article__header">
<h1 class="article__title">
	            <a  class="article__link" href="http://qnub.me/2015/02/2015-02-10-pelican-site-on-github.html" rel="bookmark" title="Permanent Link to &quot;Хостинг на GitHub блога, сгенерированного Pelican&quot;">Хостинг на GitHub блога, сгенерированного Pelican</a>
	        </h1>

		<time class="article__date">10 февр.</time>
	</header>
	<section class="article__content cf">
<div class="article__image-wrapper">
		        <img class="article__image" src="http://qnub.me/images/blog/pelican.png" alt="Хостинг на GitHub блога, сгенерированного Pelican"/>
		    </div>
<p>Исходник этого самого блога можно найти на <a href="https://github.com/qnub/qnub.github.io/tree/master">GitHub</a>. Здесь немного модифицирован <code>Makefile</code> для поддержки <code>virtualenv</code> находящегося в каталоге <code>.env</code> в каталоге с, собственно, <code>git</code> самого сайта. Тема разработана <a href="https://github.com/temapavloff">temapavloff</a>, а дизайн <a href="https://ru.linkedin.com/in/yahujik/ru">yahujik</a>. И то и другое немного изменено и, и то и другое в оригинале используется в нашем совместном проекте <a href="http://gik.me">gik.me подкаст</a>.</p>
<p>Я добавил обственную версию генератора RSS который поддерживает мультимедиа аттачи (для подкаста) и в самой теме активно используются мета-данные из статей для генерации правильных <code>og:</code> тегов.</p>
<p>Дополнительные опции в конфигурации <strong>Pelican</strong>:</p>
<div class="highlight"><pre><span class="kn">from</span> <span class="nn">filters</span> <span class="kn">import</span> <span class="n">cat_name</span>

<span class="n">JINJA_FILTERS</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s">&#39;cat_name&#39;</span><span class="p">:</span> <span class="n">cat_name</span><span class="p">,</span>  <span class="c"># позволяет выводить в темплейте руссифицированные имена категорий</span>
<span class="p">}</span>

<span class="c"># карта преобразования имён категорий для вышеприведённого фильтра</span>
<span class="n">CATEGORY_MAP</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s">&#39;link&#39;</span><span class="p">:</span> <span class="s">u&#39;ссылки&#39;</span><span class="p">,</span>
    <span class="s">&#39;quote&#39;</span><span class="p">:</span> <span class="s">u&#39;цитаты&#39;</span><span class="p">,</span>
    <span class="s">&#39;text&#39;</span><span class="p">:</span> <span class="s">u&#39;текст&#39;</span><span class="p">,</span>
    <span class="s">&#39;blog&#39;</span><span class="p">:</span> <span class="s">u&#39;блог&#39;</span><span class="p">,</span>
    <span class="s">&#39;news&#39;</span><span class="p">:</span> <span class="s">u&#39;новости&#39;</span><span class="p">,</span>
    <span class="s">&#39;article&#39;</span><span class="p">:</span> <span class="s">u&#39;статьи&#39;</span><span class="p">,</span>
<span class="p">}</span>

<span class="c"># перенос в корень сайта нужных статических файлов при генерации</span>
<span class="c"># CNAME содержит собственный домен сайта для использования с GitHub Pages</span>
<span class="n">STATIC_PATHS</span> <span class="o">=</span> <span class="p">[</span><span class="s">&#39;images&#39;</span><span class="p">,</span> <span class="s">&#39;extra/robots.txt&#39;</span><span class="p">,</span> <span class="s">&#39;extra/favicon.png&#39;</span><span class="p">,</span> <span class="s">&#39;extra/favicon.ico&#39;</span><span class="p">,</span> <span class="s">&#39;extra/CNAME&#39;</span><span class="p">]</span>
<span class="n">EXTRA_PATH_METADATA</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s">&#39;extra/robots.txt&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s">&#39;path&#39;</span><span class="p">:</span> <span class="s">&#39;robots.txt&#39;</span><span class="p">},</span>
    <span class="s">&#39;extra/favicon.ico&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s">&#39;path&#39;</span><span class="p">:</span> <span class="s">&#39;favicon.ico&#39;</span><span class="p">},</span>
    <span class="s">&#39;extra/favicon.png&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s">&#39;path&#39;</span><span class="p">:</span> <span class="s">&#39;favicon.png&#39;</span><span class="p">},</span>
    <span class="s">&#39;extra/CNAME&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s">&#39;path&#39;</span><span class="p">:</span> <span class="s">&#39;CNAME&#39;</span><span class="p">},</span>
<span class="p">}</span>

<span class="n">PLUGINS</span> <span class="o">=</span> <span class="p">[</span><span class="s">&#39;feeds_with_media&#39;</span><span class="p">,</span> <span class="p">]</span>  <span class="c"># сосбтвенно плагин, герерирующий более правильный RSS</span>

<span class="c"># дополнительные данные для вышеприведённого плагина</span>
<span class="n">FEED_IMAGE</span> <span class="o">=</span> <span class="s">&#39;/favicon.png&#39;</span>  <span class="c"># картинка фида</span>
<span class="n">FEED_FOOTER</span> <span class="o">=</span> <span class="s">&#39;&#39;</span>  <span class="c"># футер с копирайтом добавляется если пост в фиде содержит медиа-вложение</span>
</pre></div>


<p>Сам генератор RSS берёт информацию для вложения из мета-тегов. Если у статьи указан тег <code>Encolsure:</code> то ссылка из этого тега будет добавлена в пост фида как ссылка на вложение, а <code>MIME-type</code> из тега <code>Mime:</code> будет использован для указания типа этого вложения.</p>
<p>Также тема поддерживает эти мета-теги добавляет соотвествующие <code>og:</code> мета-теги в <code>&lt;head&gt;</code> страницы. Туда же будет добавлен линк на картинку, если указан тег <code>Image:</code>.</p>
</section>
	<footer class="article__footer">
		<p class="article__meta">опубликовано 15:00&nbsp;&middot;&nbsp;блог</p><ul class="article__tags"><li class="article__tags-item">
						<a href="http://qnub.me/tag/blog.html" class="article__tags-link link">blog</a>
					</li><li class="article__tags-item">
						<a href="http://qnub.me/tag/github.html" class="article__tags-link link">github</a>
					</li><li class="article__tags-item">
						<a href="http://qnub.me/tag/static.html" class="article__tags-link link">static</a>
					</li><li class="article__tags-item">
						<a href="http://qnub.me/tag/pelican.html" class="article__tags-link link">pelican</a>
					</li>	        </ul>	</footer>
</article>
  <div class="comments" id="disqus_thread"></div>
  <script type="text/javascript">
    var disqus_shortname = 'qnub';
    var disqus_identifier = '2015/02/2015-02-10-pelican-site-on-github.html';
    var disqus_url = 'http://qnub.me/2015/02/2015-02-10-pelican-site-on-github.html';
    (function() {
    var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
    dsq.src = '//qnub.disqus.com/embed.js';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
  </script>
  <noscript>Please enable JavaScript to view the comments.</noscript>

            </main>

            <aside class="sidebar">
<div class="sidebar__item">
    <h4 class="sidebar__title">Проекты</h4>
    <ul class="sidebar__subscribe">
        <li class="sidebar__subscribe-item">
            <a href="http://gik.me" class="sidebar__subscribe-link sidebar__subscribe-link_gikme link">gik.me подкаст</a>
        </li>
    </ul>
</div>
<div class="sidebar__item">
    <h4 class="sidebar__title">Контакты</h4>
    <ul class="sidebar__socials">
        <li class="sidebar__socials-item">
            <a href="https://github.com/qnub" class="sidebar__socials-link sidebar__socials-link_gh" target="_blank">GitHub</a>
        </li>
        <li class="sidebar__socials-item">
            <a href="https://ru.linkedin.com/in/vadlop" class="sidebar__socials-link sidebar__socials-link_in" target="_blank">LinkedIn</a>
        </li>
        <li class="sidebar__socials-item">
            <a href="https://vk.com/qnub_ru" class="sidebar__socials-link sidebar__socials-link_vk" target="_blank">Вконтакте</a>
        </li>
        <li class="sidebar__socials-item">
            <a href="https://plus.google.com/+VadimLopatyuk" class="sidebar__socials-link sidebar__socials-link_gp" target="_blank">Гугл Плюс</a>
        </li>
        <li class="sidebar__socials-item">
            <a href="http://instagram.com/qnub" class="sidebar__socials-link sidebar__socials-link_ig" target="_blank">Инстаграм</a>
        </li>
        <li class="sidebar__socials-item">
            <a href="https://twitter.com/qnub" class="sidebar__socials-link sidebar__socials-link_tw" target="_blank">Твиттер</a>
        </li>
        <li class="sidebar__socials-item">
            <a href="https://www.facebook.com/qnub.ru" class="sidebar__socials-link sidebar__socials-link_fb" target="_blank">Фейсбук</a>
        </li>
    </ul>
</div>
<div class="sidebar__item">
    <ul class="article__tags">
        <li class="article__tags-item">
            <a href="http://qnub.me/tag/blog.html" class="article__tags-link link">blog</a>
        </li>
        <li class="article__tags-item">
            <a href="http://qnub.me/tag/github.html" class="article__tags-link link">github</a>
        </li>
        <li class="article__tags-item">
            <a href="http://qnub.me/tag/pelican.html" class="article__tags-link link">pelican</a>
        </li>
        <li class="article__tags-item">
            <a href="http://qnub.me/tag/static.html" class="article__tags-link link">static</a>
        </li>
    </ul>
</div>
<div class="sidebar__item">
    <h4 class="sidebar__title">Комментарии</h4>
    <script type="text/javascript" src="http://qnub.disqus.com/recent_comments_widget.js"></script>
</div>
            </aside>
        </div>

        <footer class="footer">
        </footer>
            <script type="text/javascript">
                var disqus_shortname = 'qnub';
                (function () {
                    var s = document.createElement('script'); s.async = true;
                    s.type = 'text/javascript';
                    s.src = '//' + disqus_shortname + '.disqus.com/count.js';
                    (document.getElementsByTagName('HEAD')[0] || document.getElementsByTagName('BODY')[0]).appendChild(s);
                }());
            </script>
        <script type="text/javascript" src="http://qnub.me/theme/js/jquery.min.js"></script>
        <script type="text/javascript" src="//vk.com/js/api/openapi.js?116"></script>
        <script type="text/javascript" src="http://qnub.me/theme/js/jquery.fluidbox.min.js"></script>
        <script type="text/javascript" src="http://qnub.me/theme/js/main.js"></script>
    <script type="text/javascript">
    var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
    document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
    </script>
    <script type="text/javascript">
    try {
        var pageTracker = _gat._getTracker("UA-59564142-1");
    pageTracker._trackPageview();
    } catch(err) {}</script>
    <script type="text/javascript">(function (d, w, c) { (w[c] = w[c] || []).push(function() { try { w['yaCounter28356266'] = new Ya.Metrika({ id:28356266, webvisor:true, trackHash:true, ut:"noindex" }); } catch(e) { } }); var n = d.getElementsByTagName("script")[0], s = d.createElement("script"), f = function () { n.parentNode.insertBefore(s, n); }; s.type = "text/javascript"; s.async = true; s.src = (d.location.protocol == "https:" ? "https:" : "http:") + "//mc.yandex.ru/metrika/watch.js"; if (w.opera == "[object Opera]") { d.addEventListener("DOMContentLoaded", f, false); } else { f(); } })(document, window, "yandex_metrika_callbacks");</script>
    </body>
</html>